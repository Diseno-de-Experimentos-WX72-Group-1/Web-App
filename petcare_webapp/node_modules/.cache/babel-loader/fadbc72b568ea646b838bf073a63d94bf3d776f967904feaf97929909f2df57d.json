{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'App',\n  data() {\n    return {\n      servicios: [],\n      servicio: {\n        idServicio: null,\n        mascota: {\n          id: null\n        },\n        veterinario: {\n          id: null\n        },\n        direccion: '',\n        estado: 'PENDIENTE' // Estado predeterminado\n      },\n      mensaje: '',\n      isEditing: false\n    };\n  },\n  created() {\n    this.obtenerServicios();\n  },\n  methods: {\n    async obtenerServicios() {\n      try {\n        const response = await axios.get('https://petandcareapi-bhbgcngtfkbufvfy.canadacentral-01.azurewebsites.net/api/servicios-domicilio');\n        this.servicios = response.data;\n      } catch (error) {\n        this.mensaje = 'Error al obtener servicios: ' + error.message;\n      }\n    },\n    async guardarServicio() {\n      try {\n        if (this.isEditing) {\n          await axios.put(`https://petandcareapi-bhbgcngtfkbufvfy.canadacentral-01.azurewebsites.net/api/servicios-domicilio/${this.servicio.idServicio}`, this.servicio);\n          this.mensaje = 'Servicio actualizado correctamente.';\n        } else {\n          await axios.post('https://petandcareapi-bhbgcngtfkbufvfy.canadacentral-01.azurewebsites.net/api/servicios-domicilio', this.servicio);\n          this.mensaje = 'Servicio solicitado correctamente.';\n        }\n        this.limpiarFormulario();\n        this.obtenerServicios();\n      } catch (error) {\n        this.mensaje = 'Error al guardar servicio: ' + error.message;\n      }\n    },\n    editarServicio(servicio) {\n      this.servicio = {\n        ...servicio\n      };\n      this.isEditing = true;\n    },\n    async cancelarServicio(id) {\n      try {\n        await axios.delete(`https://petandcareapi-bhbgcngtfkbufvfy.canadacentral-01.azurewebsites.net/api/servicios-domicilio/${id}`);\n        this.mensaje = 'Servicio cancelado correctamente.';\n        this.obtenerServicios();\n      } catch (error) {\n        this.mensaje = 'Error al cancelar servicio: ' + error.message;\n      }\n    },\n    limpiarFormulario() {\n      this.servicio = {\n        idServicio: null,\n        mascota: {\n          id: null\n        },\n        veterinario: {\n          id: null\n        },\n        direccion: '',\n        estado: 'PENDIENTE'\n      };\n      this.isEditing = false;\n      this.mensaje = '';\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","servicios","servicio","idServicio","mascota","id","veterinario","direccion","estado","mensaje","isEditing","created","obtenerServicios","methods","response","get","error","message","guardarServicio","put","post","limpiarFormulario","editarServicio","cancelarServicio","delete"],"sources":["D:\\CAMILA\\UPC\\Ciclo 6\\Diseño de Experimentos\\Trabajo grupal\\Web-App\\petcare_webapp\\src\\components\\ServicioDomicilio.vue"],"sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <div class=\"d-flex\">\r\n      <!-- Sidebar -->\r\n      <nav class=\"col-md-2 d-none d-md-block bg-light sidebar shadow-sm\">\r\n        <div class=\"sidebar-sticky p-3\">\r\n          <h5 class=\"sidebar-heading text-center mb-4 text-primary\">Dashboard</h5>\r\n          <ul class=\"nav flex-column\">\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/usuarios\" class=\"nav-link d-flex align-items-center\">\r\n                <i class=\"bi bi-person-circle mr-2\"></i> Usuarios\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/citas\" class=\"nav-link d-flex align-items-center\">\r\n                <i class=\"bi bi-calendar-check mr-2\"></i> Programar Cita\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/listar_citas\" class=\"nav-link d-flex align-items-center\">\r\n                <i class=\"bi bi-list-check mr-2\"></i> Listar Citas\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/servicio_domicilio\" class=\"nav-link d-flex align-items-center\">\r\n                <i class=\"bi bi-house-door mr-2\"></i> Servicio Domicilio\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/historial_medico\" class=\"nav-link d-flex align-items-center\">\r\n                <i class=\"bi bi-file-medical mr-2\"></i> Historial Médico\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/generar_reporte\" class=\"nav-link d-flex align-items-center\">\r\n                <i class=\"bi bi-bar-chart mr-2\"></i> Generar Reporte\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/lista_recordatorios\" class=\"nav-link d-flex align-items-center\">\r\n                <i class=\"bi bi-bell mr-2\"></i> Lista Recordatorios\r\n              </router-link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n\r\n      <!-- Main content -->\r\n      <main role=\"main\" class=\"col-md-9 ml-sm-auto col-lg-10 px-4\">\r\n        <div class=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom shadow-sm\">\r\n          <h1 class=\"h2\">Bienvenido al Dashboard</h1>\r\n          <button class=\"btn btn-outline-primary d-md-none\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasSidebar\">\r\n            <i class=\"bi bi-list\"></i>\r\n          </button>\r\n        </div>\r\n\r\n        <!-- Solicitud de Servicio a Domicilio -->\r\n        <h2 class=\"mb-4\">Solicitud de Servicio a Domicilio</h2>\r\n        <form @submit.prevent=\"guardarServicio\" class=\"mb-4\">\r\n          <div class=\"mb-3\">\r\n            <label for=\"mascotaId\" class=\"form-label\">ID de Mascota:</label>\r\n            <input type=\"number\" id=\"mascotaId\" v-model=\"servicio.mascota.id\" class=\"form-control\" required />\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"veterinarioId\" class=\"form-label\">ID de Veterinario:</label>\r\n            <input type=\"number\" id=\"veterinarioId\" v-model=\"servicio.veterinario.id\" class=\"form-control\" required />\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"direccion\" class=\"form-label\">Dirección:</label>\r\n            <input type=\"text\" id=\"direccion\" v-model=\"servicio.direccion\" class=\"form-control\" required />\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"estado\" class=\"form-label\">Estado:</label>\r\n            <select id=\"estado\" v-model=\"servicio.estado\" class=\"form-select\">\r\n              <option value=\"PENDIENTE\">Pendiente</option>\r\n              <option value=\"REALIZADO\">Realizado</option>\r\n              <option value=\"CANCELADO\">Cancelado</option>\r\n            </select>\r\n          </div>\r\n          <button type=\"submit\" class=\"btn btn-primary\">{{ isEditing ? 'Actualizar Servicio' : 'Solicitar Servicio' }}</button>\r\n        </form>\r\n\r\n        <div v-if=\"mensaje\" class=\"alert alert-info\">{{ mensaje }}</div>\r\n\r\n        <h3>Servicios Programados</h3>\r\n        <table class=\"table table-striped\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>VETERINARIO</th>\r\n              <th>Dirección</th>\r\n              <th>Fecha de Solicitud</th>\r\n              <th>Estado</th>\r\n              <th>Acciones</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"servicio in servicios\" :key=\"servicio.idServicio\">\r\n              <td>{{ servicio.idServicio }}</td>\r\n              <td>{{ servicio.veterinario.nombre }}</td>\r\n              <td>{{ servicio.direccion }}</td>\r\n              <td>{{ servicio.fechaSolicitud }}</td>\r\n              <td>{{ servicio.estado }}</td>\r\n              <td>\r\n                <button @click=\"editarServicio(servicio)\" class=\"btn btn-warning btn-sm\">Editar</button>\r\n                <button @click=\"cancelarServicio(servicio.idServicio)\" class=\"btn btn-danger btn-sm\">Cancelar</button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n        <!-- Rutas del contenido -->\r\n        <router-view></router-view>\r\n      </main>\r\n\r\n      <!-- Offcanvas Sidebar for mobile -->\r\n      <div class=\"offcanvas offcanvas-start bg-light\" tabindex=\"-1\" id=\"offcanvasSidebar\">\r\n        <div class=\"offcanvas-header\">\r\n          <h5 class=\"offcanvas-title\">Dashboard</h5>\r\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\"></button>\r\n        </div>\r\n        <div class=\"offcanvas-body\">\r\n          <ul class=\"nav flex-column\">\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/usuarios\" class=\"nav-link\">\r\n                <i class=\"bi bi-person-circle\"></i> Usuarios\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/citas\" class=\"nav-link\">\r\n                <i class=\"bi bi-calendar-check\"></i> Programar Cita\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/listar_citas\" class=\"nav-link\">\r\n                <i class=\"bi bi-list-check\"></i> Listar Citas\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/servicio_domicilio\" class=\"nav-link\">\r\n                <i class=\"bi bi-house-door\"></i> Servicio Domicilio\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/historial_medico\" class=\"nav-link\">\r\n                <i class=\"bi bi-file-medical\"></i> Historial Médico\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/generar_reporte\" class=\"nav-link\">\r\n                <i class=\"bi bi-bar-chart\"></i> Generar Reporte\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/lista_recordatorios\" class=\"nav-link\">\r\n                <i class=\"bi bi-bell\"></i> Lista Recordatorios\r\n              </router-link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'App',\r\n  data() {\r\n    return {\r\n      servicios: [],\r\n      servicio: {\r\n        idServicio: null,\r\n        mascota: {\r\n          id: null\r\n        },\r\n        veterinario: {\r\n          id: null\r\n        },\r\n        direccion: '',\r\n        estado: 'PENDIENTE' // Estado predeterminado\r\n      },\r\n      mensaje: '',\r\n      isEditing: false\r\n    };\r\n  },\r\n  created() {\r\n    this.obtenerServicios();\r\n  },\r\n  methods: {\r\n    async obtenerServicios() {\r\n      try {\r\n        const response = await axios.get('https://petandcareapi-bhbgcngtfkbufvfy.canadacentral-01.azurewebsites.net/api/servicios-domicilio');\r\n        this.servicios = response.data;\r\n      } catch (error) {\r\n        this.mensaje = 'Error al obtener servicios: ' + error.message;\r\n      }\r\n    },\r\n    async guardarServicio() {\r\n      try {\r\n        if (this.isEditing) {\r\n          await axios.put(`https://petandcareapi-bhbgcngtfkbufvfy.canadacentral-01.azurewebsites.net/api/servicios-domicilio/${this.servicio.idServicio}`, this.servicio);\r\n          this.mensaje = 'Servicio actualizado correctamente.';\r\n        } else {\r\n          await axios.post('https://petandcareapi-bhbgcngtfkbufvfy.canadacentral-01.azurewebsites.net/api/servicios-domicilio', this.servicio);\r\n          this.mensaje = 'Servicio solicitado correctamente.';\r\n        }\r\n        this.limpiarFormulario();\r\n        this.obtenerServicios();\r\n      } catch (error) {\r\n        this.mensaje = 'Error al guardar servicio: ' + error.message;\r\n      }\r\n    },\r\n    editarServicio(servicio) {\r\n      this.servicio = { ...servicio };\r\n      this.isEditing = true;\r\n    },\r\n    async cancelarServicio(id) {\r\n      try {\r\n        await axios.delete(`https://petandcareapi-bhbgcngtfkbufvfy.canadacentral-01.azurewebsites.net/api/servicios-domicilio/${id}`);\r\n        this.mensaje = 'Servicio cancelado correctamente.';\r\n        this.obtenerServicios();\r\n      } catch (error) {\r\n        this.mensaje = 'Error al cancelar servicio: ' + error.message;\r\n      }\r\n    },\r\n    limpiarFormulario() {\r\n      this.servicio = {\r\n        idServicio: null,\r\n        mascota: { id: null },\r\n        veterinario: { id: null },\r\n        direccion: '',\r\n        estado: 'PENDIENTE'\r\n      };\r\n      this.isEditing = false;\r\n      this.mensaje = '';\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nbody {\r\n  background-color: #f8f9fa;\r\n}\r\n</style>\r\n"],"mappings":"AAsKA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE;QACRC,UAAU,EAAE,IAAI;QAChBC,OAAO,EAAE;UACPC,EAAE,EAAE;QACN,CAAC;QACDC,WAAW,EAAE;UACXD,EAAE,EAAE;QACN,CAAC;QACDE,SAAS,EAAE,EAAE;QACbC,MAAM,EAAE,WAAU,CAAE;MACtB,CAAC;MACDC,OAAO,EAAE,EAAE;MACXC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,gBAAgB,CAAC,CAAC;EACzB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,gBAAgBA,CAAA,EAAG;MACvB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMhB,KAAK,CAACiB,GAAG,CAAC,mGAAmG,CAAC;QACrI,IAAI,CAACd,SAAQ,GAAIa,QAAQ,CAACd,IAAI;MAChC,EAAE,OAAOgB,KAAK,EAAE;QACd,IAAI,CAACP,OAAM,GAAI,8BAA6B,GAAIO,KAAK,CAACC,OAAO;MAC/D;IACF,CAAC;IACD,MAAMC,eAAeA,CAAA,EAAG;MACtB,IAAI;QACF,IAAI,IAAI,CAACR,SAAS,EAAE;UAClB,MAAMZ,KAAK,CAACqB,GAAG,CAAC,qGAAqG,IAAI,CAACjB,QAAQ,CAACC,UAAU,EAAE,EAAE,IAAI,CAACD,QAAQ,CAAC;UAC/J,IAAI,CAACO,OAAM,GAAI,qCAAqC;QACtD,OAAO;UACL,MAAMX,KAAK,CAACsB,IAAI,CAAC,mGAAmG,EAAE,IAAI,CAAClB,QAAQ,CAAC;UACpI,IAAI,CAACO,OAAM,GAAI,oCAAoC;QACrD;QACA,IAAI,CAACY,iBAAiB,CAAC,CAAC;QACxB,IAAI,CAACT,gBAAgB,CAAC,CAAC;MACzB,EAAE,OAAOI,KAAK,EAAE;QACd,IAAI,CAACP,OAAM,GAAI,6BAA4B,GAAIO,KAAK,CAACC,OAAO;MAC9D;IACF,CAAC;IACDK,cAAcA,CAACpB,QAAQ,EAAE;MACvB,IAAI,CAACA,QAAO,GAAI;QAAE,GAAGA;MAAS,CAAC;MAC/B,IAAI,CAACQ,SAAQ,GAAI,IAAI;IACvB,CAAC;IACD,MAAMa,gBAAgBA,CAAClB,EAAE,EAAE;MACzB,IAAI;QACF,MAAMP,KAAK,CAAC0B,MAAM,CAAC,qGAAqGnB,EAAE,EAAE,CAAC;QAC7H,IAAI,CAACI,OAAM,GAAI,mCAAmC;QAClD,IAAI,CAACG,gBAAgB,CAAC,CAAC;MACzB,EAAE,OAAOI,KAAK,EAAE;QACd,IAAI,CAACP,OAAM,GAAI,8BAA6B,GAAIO,KAAK,CAACC,OAAO;MAC/D;IACF,CAAC;IACDI,iBAAiBA,CAAA,EAAG;MAClB,IAAI,CAACnB,QAAO,GAAI;QACdC,UAAU,EAAE,IAAI;QAChBC,OAAO,EAAE;UAAEC,EAAE,EAAE;QAAK,CAAC;QACrBC,WAAW,EAAE;UAAED,EAAE,EAAE;QAAK,CAAC;QACzBE,SAAS,EAAE,EAAE;QACbC,MAAM,EAAE;MACV,CAAC;MACD,IAAI,CAACE,SAAQ,GAAI,KAAK;MACtB,IAAI,CAACD,OAAM,GAAI,EAAE;IACnB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}