{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, toDisplayString as _toDisplayString, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-4\"\n};\nconst _hoisted_2 = {\n  class: \"form-group mb-3\"\n};\nconst _hoisted_3 = {\n  class: \"form-group mb-3\"\n};\nconst _hoisted_4 = {\n  class: \"form-group mb-3\"\n};\nconst _hoisted_5 = {\n  class: \"form-group mb-4\"\n};\nconst _hoisted_6 = {\n  type: \"submit\",\n  class: \"btn btn-primary w-100\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"alert alert-info text-center\"\n};\nconst _hoisted_8 = {\n  class: \"table table-bordered table-striped\"\n};\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[11] || (_cache[11] = _createElementVNode(\"h2\", {\n    class: \"text-center\"\n  }, \"Gestión de Usuarios\", -1)), _createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.guardarUsuario && $options.guardarUsuario(...args), [\"prevent\"])),\n    class: \"card p-4 mb-4\"\n  }, [_createElementVNode(\"div\", _hoisted_2, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", {\n    for: \"nombre\"\n  }, \"Nombre:\", -1)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"nombre\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.usuario.nombre = $event),\n    required: \"\",\n    placeholder: \"Ingrese nombre\"\n  }, null, 512), [[_vModelText, $data.usuario.nombre]])]), _createElementVNode(\"div\", _hoisted_3, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    for: \"correo\"\n  }, \"Correo:\", -1)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    id: \"correo\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.usuario.correo = $event),\n    required: \"\",\n    placeholder: \"Ingrese correo\"\n  }, null, 512), [[_vModelText, $data.usuario.correo]])]), _createElementVNode(\"div\", _hoisted_4, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", {\n    for: \"contraseña\"\n  }, \"Contraseña:\", -1)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"contraseña\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.usuario.contraseña = $event),\n    required: \"\",\n    placeholder: \"Ingrese contraseña\"\n  }, null, 512), [[_vModelText, $data.usuario.contraseña]])]), _createElementVNode(\"div\", _hoisted_5, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    for: \"rol\"\n  }, \"Rol:\", -1)), _withDirectives(_createElementVNode(\"select\", {\n    id: \"rol\",\n    class: \"form-select\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.usuario.rol = $event),\n    required: \"\"\n  }, _cache[8] || (_cache[8] = [_createElementVNode(\"option\", {\n    value: \"dueno\"\n  }, \"Dueño\", -1), _createElementVNode(\"option\", {\n    value: \"veterinario\"\n  }, \"Veterinario\", -1), _createElementVNode(\"option\", {\n    value: \"admin\"\n  }, \"Admin\", -1)]), 512), [[_vModelSelect, $data.usuario.rol]])]), _createElementVNode(\"button\", _hoisted_6, _toDisplayString($data.isEditing ? 'Actualizar Usuario' : 'Crear Usuario'), 1)], 32), $data.mensaje ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, _toDisplayString($data.mensaje), 1)) : _createCommentVNode(\"\", true), _cache[12] || (_cache[12] = _createElementVNode(\"h3\", {\n    class: \"text-center mb-3\"\n  }, \"Lista de Usuarios\", -1)), _createElementVNode(\"table\", _hoisted_8, [_cache[10] || (_cache[10] = _createElementVNode(\"thead\", {\n    class: \"thead-dark\"\n  }, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"ID\"), _createElementVNode(\"th\", null, \"Nombre\"), _createElementVNode(\"th\", null, \"Correo\"), _createElementVNode(\"th\", null, \"Rol\"), _createElementVNode(\"th\", null, \"Acciones\")])], -1)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.usuarios, usuario => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: usuario.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(usuario.id), 1), _createElementVNode(\"td\", null, _toDisplayString(usuario.nombre), 1), _createElementVNode(\"td\", null, _toDisplayString(usuario.correo), 1), _createElementVNode(\"td\", null, _toDisplayString(usuario.rol), 1), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      class: \"btn btn-warning btn-sm me-2\",\n      onClick: $event => $options.editarUsuario(usuario)\n    }, \" Editar \", 8, _hoisted_9), _createElementVNode(\"button\", {\n      class: \"btn btn-danger btn-sm\",\n      onClick: $event => $options.eliminarUsuario(usuario.id)\n    }, \" Eliminar \", 8, _hoisted_10)])]);\n  }), 128))])])]);\n}","map":{"version":3,"names":["class","type","key","_createElementBlock","_hoisted_1","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","guardarUsuario","_hoisted_2","for","id","$event","$data","usuario","nombre","required","placeholder","_hoisted_3","correo","_hoisted_4","contraseña","_hoisted_5","rol","value","_hoisted_6","_toDisplayString","isEditing","mensaje","_hoisted_7","_createCommentVNode","_hoisted_8","_Fragment","_renderList","usuarios","onClick","editarUsuario","_hoisted_9","eliminarUsuario","_hoisted_10"],"sources":["D:\\CAMILA\\UPC\\Ciclo 6\\Diseño de Experimentos\\Trabajo grupal\\Web-App\\petcare_webapp\\src\\components\\UsuarioCita.vue"],"sourcesContent":["<template>\r\n    <div class=\"container mt-4\">\r\n      <h2 class=\"text-center\">Gestión de Usuarios</h2>\r\n  \r\n      <!-- Formulario de Usuario -->\r\n      <form @submit.prevent=\"guardarUsuario\" class=\"card p-4 mb-4\">\r\n        <div class=\"form-group mb-3\">\r\n          <label for=\"nombre\">Nombre:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"nombre\"\r\n            class=\"form-control\"\r\n            v-model=\"usuario.nombre\"\r\n            required\r\n            placeholder=\"Ingrese nombre\"\r\n          />\r\n        </div>\r\n  \r\n        <div class=\"form-group mb-3\">\r\n          <label for=\"correo\">Correo:</label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"correo\"\r\n            class=\"form-control\"\r\n            v-model=\"usuario.correo\"\r\n            required\r\n            placeholder=\"Ingrese correo\"\r\n          />\r\n        </div>\r\n  \r\n        <div class=\"form-group mb-3\">\r\n          <label for=\"contraseña\">Contraseña:</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"contraseña\"\r\n            class=\"form-control\"\r\n            v-model=\"usuario.contraseña\"\r\n            required\r\n            placeholder=\"Ingrese contraseña\"\r\n          />\r\n        </div>\r\n  \r\n        <div class=\"form-group mb-4\">\r\n          <label for=\"rol\">Rol:</label>\r\n          <select id=\"rol\" class=\"form-select\" v-model=\"usuario.rol\" required>\r\n            <option value=\"dueno\">Dueño</option>\r\n            <option value=\"veterinario\">Veterinario</option>\r\n            <option value=\"admin\">Admin</option>\r\n          </select>\r\n        </div>\r\n  \r\n        <button type=\"submit\" class=\"btn btn-primary w-100\">\r\n          {{ isEditing ? 'Actualizar Usuario' : 'Crear Usuario' }}\r\n        </button>\r\n      </form>\r\n  \r\n      <div v-if=\"mensaje\" class=\"alert alert-info text-center\">{{ mensaje }}</div>\r\n  \r\n      <!-- Lista de Usuarios -->\r\n      <h3 class=\"text-center mb-3\">Lista de Usuarios</h3>\r\n      <table class=\"table table-bordered table-striped\">\r\n        <thead class=\"thead-dark\">\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>Nombre</th>\r\n            <th>Correo</th>\r\n            <th>Rol</th>\r\n            <th>Acciones</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"usuario in usuarios\" :key=\"usuario.id\">\r\n            <td>{{ usuario.id }}</td>\r\n            <td>{{ usuario.nombre }}</td>\r\n            <td>{{ usuario.correo }}</td>\r\n            <td>{{ usuario.rol }}</td>\r\n            <td>\r\n              <button class=\"btn btn-warning btn-sm me-2\" @click=\"editarUsuario(usuario)\">\r\n                Editar\r\n              </button>\r\n              <button class=\"btn btn-danger btn-sm\" @click=\"eliminarUsuario(usuario.id)\">\r\n                Eliminar\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from \"axios\";\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        usuarios: [],\r\n        usuario: {\r\n          id: null,\r\n          nombre: \"\",\r\n          correo: \"\",\r\n          contraseña: \"\",\r\n          rol: \"dueno\",\r\n        },\r\n        mensaje: \"\",\r\n        isEditing: false,\r\n      };\r\n    },\r\n    created() {\r\n      this.obtenerUsuarios();\r\n    },\r\n    methods: {\r\n      async obtenerUsuarios() {\r\n        try {\r\n          const response = await axios.get(\"https://java3000-g8cthucjhvgad2c3.canadacentral-01.azurewebsites.net/api/usuarios\");\r\n          this.usuarios = response.data;\r\n        } catch (error) {\r\n          this.mensaje = \"Error al obtener usuarios: \" + error.message;\r\n        }\r\n      },\r\n      async guardarUsuario() {\r\n        try {\r\n          if (this.isEditing) {\r\n            await axios.put(\r\n              `https://java3000-g8cthucjhvgad2c3.canadacentral-01.azurewebsites.net/${this.usuario.id}`,\r\n              this.usuario\r\n            );\r\n            this.mensaje = \"Usuario actualizado exitosamente\";\r\n          } else {\r\n            const response = await axios.post(\r\n              \"https://java3000-g8cthucjhvgad2c3.canadacentral-01.azurewebsites.net/\",\r\n              this.usuario\r\n            );\r\n            this.mensaje = \"Usuario creado exitosamente: \" + response.data.id;\r\n          }\r\n  \r\n          this.usuario = { id: null, nombre: \"\", correo: \"\", contraseña: \"\", rol: \"dueno\" };\r\n          this.isEditing = false;\r\n          this.obtenerUsuarios();\r\n        } catch (error) {\r\n          this.mensaje =\r\n            \"Error al guardar usuario: \" + error.response?.data?.message || error.message;\r\n        }\r\n      },\r\n      editarUsuario(usuario) {\r\n        this.usuario = { ...usuario };\r\n        this.isEditing = true;\r\n      },\r\n      async eliminarUsuario(id) {\r\n        try {\r\n          await axios.delete(`https://java3000-g8cthucjhvgad2c3.canadacentral-01.azurewebsites.net/${id}`);\r\n          this.mensaje = \"Usuario eliminado exitosamente\";\r\n          this.obtenerUsuarios();\r\n        } catch (error) {\r\n          this.mensaje = \"Error al eliminar usuario: \" + error.message;\r\n        }\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .container {\r\n    max-width: 600px;\r\n  }\r\n  </style>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}