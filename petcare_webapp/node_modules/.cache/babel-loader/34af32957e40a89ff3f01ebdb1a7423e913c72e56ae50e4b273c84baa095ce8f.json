{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'App',\n  data() {\n    return {\n      idCita: null,\n      resumen: '',\n      reportes: [],\n      mensaje: null // New property for message handling\n    };\n  },\n  created() {\n    this.obtenerReportes();\n  },\n  methods: {\n    async obtenerReportes() {\n      try {\n        const response = await axios.get('https://java3000-g8cthucjhvgad2c3.canadacentral-01.azurewebsites.net/api/reportes');\n        this.reportes = response.data;\n      } catch (error) {\n        console.error('Error al obtener reportes:', error);\n      }\n    },\n    async generarReporte() {\n      try {\n        const response = await axios.post('https://java3000-g8cthucjhvgad2c3.canadacentral-01.azurewebsites.net/api/reportes/generar', {\n          idCita: this.idCita,\n          resumen: this.resumen\n        });\n        this.mensaje = {\n          text: 'Reporte generado exitosamente',\n          success: true\n        };\n        console.log(response);\n        this.obtenerReportes();\n        this.idCita = null;\n        this.resumen = '';\n      } catch (error) {\n        this.mensaje = {\n          text: 'Error al generar el reporte: ' + error.message,\n          success: false\n        };\n        console.error('Error al generar el reporte:', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","idCita","resumen","reportes","mensaje","created","obtenerReportes","methods","response","get","error","console","generarReporte","post","text","success","log","message"],"sources":["D:\\CAMILA\\UPC\\Ciclo 6\\Diseño de Experimentos\\Trabajo grupal\\Web-App\\petcare_webapp\\src\\components\\GenerarReporte.vue"],"sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <div class=\"d-flex\">\r\n      <!-- Sidebar -->\r\n      <nav class=\"col-md-2 d-none d-md-block bg-light sidebar shadow-sm\">\r\n        <div class=\"sidebar-sticky p-3\">\r\n          <h5 class=\"sidebar-heading text-center mb-4 text-primary\">Dashboard</h5>\r\n          <ul class=\"nav flex-column\">\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/usuarios\" class=\"nav-link d-flex align-items-center\">\r\n                <i class=\"bi bi-person-circle mr-2\"></i> Usuarios\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/citas\" class=\"nav-link d-flex align-items-center\">\r\n                <i class=\"bi bi-calendar-check mr-2\"></i> Programar Cita\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/listar_citas\" class=\"nav-link d-flex align-items-center\">\r\n                <i class=\"bi bi-list-check mr-2\"></i> Listar Citas\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/servicio_domicilio\" class=\"nav-link d-flex align-items-center\">\r\n                <i class=\"bi bi-house-door mr-2\"></i> Servicio Domicilio\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/historial_medico\" class=\"nav-link d-flex align-items-center\">\r\n                <i class=\"bi bi-file-medical mr-2\"></i> Historial Médico\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/generar_reporte\" class=\"nav-link d-flex align-items-center\">\r\n                <i class=\"bi bi-bar-chart mr-2\"></i> Generar Reporte\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/lista_recordatorios\" class=\"nav-link d-flex align-items-center\">\r\n                <i class=\"bi bi-bell mr-2\"></i> Lista Recordatorios\r\n              </router-link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n\r\n      <!-- Main content -->\r\n      <main role=\"main\" class=\"col-md-9 ml-sm-auto col-lg-10 px-4\">\r\n        <div class=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom shadow-sm\">\r\n          <h1 class=\"h2\">Bienvenido al Dashboard</h1>\r\n          <button class=\"btn btn-outline-primary d-md-none\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasSidebar\">\r\n            <i class=\"bi bi-list\"></i>\r\n          </button>\r\n        </div>\r\n\r\n        <!-- Generar Reporte Section -->\r\n        <div class=\"container mt-4\">\r\n          <h2 class=\"mb-4\">Generar Reporte de Cita</h2>\r\n\r\n          <form @submit.prevent=\"generarReporte\" class=\"mb-4\">\r\n            <div class=\"mb-3\">\r\n              <label for=\"idCita\" class=\"form-label\">ID de Cita:</label>\r\n              <input\r\n                type=\"number\"\r\n                id=\"idCita\"\r\n                v-model=\"idCita\"\r\n                required\r\n                class=\"form-control\"\r\n                min=\"1\"\r\n              />\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"resumen\" class=\"form-label\">Resumen del Reporte:</label>\r\n              <textarea\r\n                id=\"resumen\"\r\n                v-model=\"resumen\"\r\n                required\r\n                class=\"form-control\"\r\n                rows=\"3\"\r\n              ></textarea>\r\n            </div>\r\n            <button type=\"submit\" class=\"btn btn-primary\">Generar Reporte</button>\r\n          </form>\r\n\r\n          <!-- Alert for success or error messages -->\r\n          <div v-if=\"mensaje\" :class=\"{'alert': true, 'alert-success': mensaje.success, 'alert-danger': !mensaje.success}\" role=\"alert\">\r\n            {{ mensaje.text }}\r\n          </div>\r\n\r\n          <h2 class=\"mt-4\">Reportes Generados</h2>\r\n          <table class=\"table table-striped\">\r\n            <thead>\r\n              <tr>\r\n                <th>ID Reporte</th>\r\n                <th>ID Cita</th>\r\n                <th>Resumen</th>\r\n                <th>Fecha de Generación</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"reporte in reportes\" :key=\"reporte.id_reporte\">\r\n                <td>{{ reporte.idReporte }}</td>\r\n                <td>{{ reporte.cita.id }}</td>\r\n                <td>{{ reporte.resumen }}</td>\r\n                <td>{{ reporte.fechaGeneracion }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <!-- Rutas del contenido -->\r\n        <router-view></router-view>\r\n      </main>\r\n\r\n      <!-- Offcanvas Sidebar for mobile -->\r\n      <div class=\"offcanvas offcanvas-start bg-light\" tabindex=\"-1\" id=\"offcanvasSidebar\">\r\n        <div class=\"offcanvas-header\">\r\n          <h5 class=\"offcanvas-title\">Dashboard</h5>\r\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\"></button>\r\n        </div>\r\n        <div class=\"offcanvas-body\">\r\n          <ul class=\"nav flex-column\">\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/usuarios\" class=\"nav-link\">\r\n                <i class=\"bi bi-person-circle\"></i> Usuarios\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/citas\" class=\"nav-link\">\r\n                <i class=\"bi bi-calendar-check\"></i> Programar Cita\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/listar_citas\" class=\"nav-link\">\r\n                <i class=\"bi bi-list-check\"></i> Listar Citas\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/servicio_domicilio\" class=\"nav-link\">\r\n                <i class=\"bi bi-house-door\"></i> Servicio Domicilio\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/historial_medico\" class=\"nav-link\">\r\n                <i class=\"bi bi-file-medical\"></i> Historial Médico\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/generar_reporte\" class=\"nav-link\">\r\n                <i class=\"bi bi-bar-chart\"></i> Generar Reporte\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item mb-2\">\r\n              <router-link to=\"/lista_recordatorios\" class=\"nav-link\">\r\n                <i class=\"bi bi-bell\"></i> Lista Recordatorios\r\n              </router-link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'App',\r\n  data() {\r\n    return {\r\n      idCita: null,\r\n      resumen: '',\r\n      reportes: [],\r\n      mensaje: null // New property for message handling\r\n    };\r\n  },\r\n  created() {\r\n    this.obtenerReportes();\r\n  },\r\n  methods: {\r\n    async obtenerReportes() {\r\n      try {\r\n        const response = await axios.get('https://java3000-g8cthucjhvgad2c3.canadacentral-01.azurewebsites.net/api/reportes');\r\n        this.reportes = response.data;\r\n      } catch (error) {\r\n        console.error('Error al obtener reportes:', error);\r\n      }\r\n    },\r\n    async generarReporte() {\r\n      try {\r\n        const response = await axios.post('https://java3000-g8cthucjhvgad2c3.canadacentral-01.azurewebsites.net/api/reportes/generar', {\r\n          idCita: this.idCita,\r\n          resumen: this.resumen\r\n        });\r\n        this.mensaje = { text: 'Reporte generado exitosamente', success: true };\r\n        console.log(response);\r\n        this.obtenerReportes();\r\n        this.idCita = null;\r\n        this.resumen = '';\r\n      } catch (error) {\r\n        this.mensaje = { text: 'Error al generar el reporte: ' + error.message, success: false };\r\n        console.error('Error al generar el reporte:', error);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.sidebar {\r\n  height: 100vh;\r\n  box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.1); /* Sombra en el sidebar */\r\n  padding-top: 20px;\r\n}\r\n\r\n.sidebar-heading {\r\n  font-weight: bold;\r\n  color: #007bff;\r\n}\r\n\r\n.nav-link {\r\n  font-size: 1rem;\r\n  padding: 10px;\r\n  color: #333;\r\n}\r\n\r\n.nav-link:hover {\r\n  background-color: #f8f9fa;\r\n  border-radius: 5px;\r\n}\r\n\r\n.nav-link .bi {\r\n  margin-right: 8px;\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.table {\r\n  margin-top: 20px;\r\n}\r\n</style>\r\n"],"mappings":"AAsKA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE,IAAI;MACZC,OAAO,EAAE,EAAE;MACXC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE,IAAG,CAAE;IAChB,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,eAAe,CAAC,CAAC;EACxB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,eAAeA,CAAA,EAAG;MACtB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMV,KAAK,CAACW,GAAG,CAAC,mFAAmF,CAAC;QACrH,IAAI,CAACN,QAAO,GAAIK,QAAQ,CAACR,IAAI;MAC/B,EAAE,OAAOU,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MACpD;IACF,CAAC;IACD,MAAME,cAAcA,CAAA,EAAG;MACrB,IAAI;QACF,MAAMJ,QAAO,GAAI,MAAMV,KAAK,CAACe,IAAI,CAAC,2FAA2F,EAAE;UAC7HZ,MAAM,EAAE,IAAI,CAACA,MAAM;UACnBC,OAAO,EAAE,IAAI,CAACA;QAChB,CAAC,CAAC;QACF,IAAI,CAACE,OAAM,GAAI;UAAEU,IAAI,EAAE,+BAA+B;UAAEC,OAAO,EAAE;QAAK,CAAC;QACvEJ,OAAO,CAACK,GAAG,CAACR,QAAQ,CAAC;QACrB,IAAI,CAACF,eAAe,CAAC,CAAC;QACtB,IAAI,CAACL,MAAK,GAAI,IAAI;QAClB,IAAI,CAACC,OAAM,GAAI,EAAE;MACnB,EAAE,OAAOQ,KAAK,EAAE;QACd,IAAI,CAACN,OAAM,GAAI;UAAEU,IAAI,EAAE,+BAA8B,GAAIJ,KAAK,CAACO,OAAO;UAAEF,OAAO,EAAE;QAAM,CAAC;QACxFJ,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACtD;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}