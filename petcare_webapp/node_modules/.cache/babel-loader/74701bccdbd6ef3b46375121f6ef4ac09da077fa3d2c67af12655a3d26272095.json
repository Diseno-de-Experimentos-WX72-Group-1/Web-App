{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      mascotas: [],\n      veterinarios: [],\n      servicio: {\n        idServicio: null,\n        mascota: {\n          id: null\n        },\n        veterinario: {\n          id: null\n        },\n        direccion: '',\n        estado: 'PENDIENTE'\n      },\n      mensaje: ''\n    };\n  },\n  created() {\n    this.cargarMascotas();\n    this.cargarVeterinarios();\n  },\n  methods: {\n    async cargarMascotas() {\n      try {\n        const response = await axios.get('https://petandcareapi-bhbgcngtfkbufvfy.canadacentral-01.azurewebsites.net/api/mascotas');\n        this.mascotas = response.data;\n      } catch (error) {\n        this.mensaje = 'Error al obtener mascotas: ' + error.message;\n      }\n    },\n    async cargarVeterinarios() {\n      try {\n        const responseVeterinarios = await axios.get('https://petandcareapi-bhbgcngtfkbufvfy.canadacentral-01.azurewebsites.net/api/citas/usuarios/veterinarios');\n        this.veterinarios = responseVeterinarios.data;\n      } catch (error) {\n        this.mensaje = 'Error al obtener veterinarios: ' + error.message;\n      }\n    },\n    async guardarServicio() {\n      try {\n        const response = await axios.post('https://petandcareapi-bhbgcngtfkbufvfy.canadacentral-01.azurewebsites.net/api/servicios-domicilio', this.servicio);\n        this.mensaje = 'Su solicitud ha sido procesada y pronto el especialista estará en su hogar';\n        console.log(response); // Verifica la respuesta\n        this.resetForm();\n      } catch (error) {\n        this.mensaje = 'Error al guardar el servicio: ' + error.message;\n      }\n    },\n    resetForm() {\n      this.servicio = {\n        idServicio: null,\n        mascota: {\n          id: null\n        },\n        veterinario: {\n          id: null\n        },\n        direccion: '',\n        estado: 'PENDIENTE'\n      };\n      this.mensaje = '';\n    }\n  }\n};","map":{"version":3,"names":["axios","data","mascotas","veterinarios","servicio","idServicio","mascota","id","veterinario","direccion","estado","mensaje","created","cargarMascotas","cargarVeterinarios","methods","response","get","error","message","responseVeterinarios","guardarServicio","post","console","log","resetForm"],"sources":["D:\\CAMILA\\UPC\\Ciclo 6\\Diseño de Experimentos\\Trabajo grupal\\Web-App\\petcare_webapp\\src\\components\\SolicitarServicioCliente.vue"],"sourcesContent":["<template>\r\n    <div class=\"container mt-5\">\r\n      <h2 class=\"mb-4\">Solicitud de Servicio a Domicilio</h2>\r\n  \r\n      <form @submit.prevent=\"guardarServicio\" class=\"mb-4\">\r\n        <div class=\"mb-3\">\r\n          <label for=\"mascotaId\" class=\"form-label\">Selecciona Mascota:</label>\r\n          <select id=\"mascotaId\" v-model=\"servicio.mascota.id\" class=\"form-control\" required>\r\n            <option v-for=\"mascota in mascotas\" :key=\"mascota.id\" :value=\"mascota.id\">\r\n              {{ mascota.nombre }} - {{ mascota.especie }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div class=\"mb-3\">\r\n          <label for=\"veterinarioId\" class=\"form-label\">Selecciona Veterinario:</label>\r\n          <select id=\"veterinarioId\" v-model=\"servicio.veterinario.id\" class=\"form-control\" required>\r\n            <option v-for=\"veterinario in veterinarios\" :key=\"veterinario.id\" :value=\"veterinario.id\">\r\n              {{ veterinario.nombre }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div class=\"mb-3\">\r\n          <label for=\"direccion\" class=\"form-label\">Dirección:</label>\r\n          <input type=\"text\" id=\"direccion\" v-model=\"servicio.direccion\" class=\"form-control\" required />\r\n        </div>\r\n        <button type=\"submit\" class=\"btn btn-primary\">Solicitar Servicio</button>\r\n      </form>\r\n  \r\n      <!-- Mensaje de alerta -->\r\n      <div v-if=\"mensaje\" class=\"alert alert-info\">{{ mensaje }}</div>\r\n      <!-- <div v-else class=\"alert alert-warning\">Prueba para ver si el mensaje se muestra correctamente.</div> Mensaje de prueba -->\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        mascotas: [],\r\n        veterinarios: [],\r\n        servicio: {\r\n          idServicio: null,\r\n          mascota: {\r\n            id: null\r\n          },\r\n          veterinario: {\r\n            id: null\r\n          },\r\n          direccion: '',\r\n          estado: 'PENDIENTE'\r\n        },\r\n        mensaje: ''\r\n      };\r\n    },\r\n    created() {\r\n      this.cargarMascotas();\r\n      this.cargarVeterinarios();\r\n    },\r\n    methods: {\r\n      async cargarMascotas() {\r\n        try {\r\n          const response = await axios.get('https://petandcareapi-bhbgcngtfkbufvfy.canadacentral-01.azurewebsites.net/api/mascotas');\r\n          this.mascotas = response.data;\r\n        } catch (error) {\r\n          this.mensaje = 'Error al obtener mascotas: ' + error.message;\r\n        }\r\n      },\r\n      async cargarVeterinarios() {\r\n        try {\r\n          const responseVeterinarios = await axios.get('https://petandcareapi-bhbgcngtfkbufvfy.canadacentral-01.azurewebsites.net/api/citas/usuarios/veterinarios');\r\n          this.veterinarios = responseVeterinarios.data;\r\n        } catch (error) {\r\n          this.mensaje = 'Error al obtener veterinarios: ' + error.message;\r\n        }\r\n      },\r\n      async guardarServicio() {\r\n        try {\r\n          const response = await axios.post('https://petandcareapi-bhbgcngtfkbufvfy.canadacentral-01.azurewebsites.net/api/servicios-domicilio', this.servicio);\r\n          this.mensaje = 'Su solicitud ha sido procesada y pronto el especialista estará en su hogar';\r\n          console.log(response); // Verifica la respuesta\r\n          this.resetForm();\r\n        } catch (error) {\r\n          this.mensaje = 'Error al guardar el servicio: ' + error.message;\r\n        }\r\n      },\r\n      resetForm() {\r\n        this.servicio = {\r\n          idServicio: null,\r\n          mascota: {\r\n            id: null\r\n          },\r\n          veterinario: {\r\n            id: null\r\n          },\r\n          direccion: '',\r\n          estado: 'PENDIENTE'\r\n        };\r\n        this.mensaje = '';\r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  /* Estilos adicionales aquí si es necesario */\r\n  </style>\r\n  "],"mappings":"AAmCE,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,YAAY,EAAE,EAAE;MAChBC,QAAQ,EAAE;QACRC,UAAU,EAAE,IAAI;QAChBC,OAAO,EAAE;UACPC,EAAE,EAAE;QACN,CAAC;QACDC,WAAW,EAAE;UACXD,EAAE,EAAE;QACN,CAAC;QACDE,SAAS,EAAE,EAAE;QACbC,MAAM,EAAE;MACV,CAAC;MACDC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,cAAc,CAAC,CAAC;IACrB,IAAI,CAACC,kBAAkB,CAAC,CAAC;EAC3B,CAAC;EACDC,OAAO,EAAE;IACP,MAAMF,cAAcA,CAAA,EAAG;MACrB,IAAI;QACF,MAAMG,QAAO,GAAI,MAAMhB,KAAK,CAACiB,GAAG,CAAC,wFAAwF,CAAC;QAC1H,IAAI,CAACf,QAAO,GAAIc,QAAQ,CAACf,IAAI;MAC/B,EAAE,OAAOiB,KAAK,EAAE;QACd,IAAI,CAACP,OAAM,GAAI,6BAA4B,GAAIO,KAAK,CAACC,OAAO;MAC9D;IACF,CAAC;IACD,MAAML,kBAAkBA,CAAA,EAAG;MACzB,IAAI;QACF,MAAMM,oBAAmB,GAAI,MAAMpB,KAAK,CAACiB,GAAG,CAAC,2GAA2G,CAAC;QACzJ,IAAI,CAACd,YAAW,GAAIiB,oBAAoB,CAACnB,IAAI;MAC/C,EAAE,OAAOiB,KAAK,EAAE;QACd,IAAI,CAACP,OAAM,GAAI,iCAAgC,GAAIO,KAAK,CAACC,OAAO;MAClE;IACF,CAAC;IACD,MAAME,eAAeA,CAAA,EAAG;MACtB,IAAI;QACF,MAAML,QAAO,GAAI,MAAMhB,KAAK,CAACsB,IAAI,CAAC,mGAAmG,EAAE,IAAI,CAAClB,QAAQ,CAAC;QACrJ,IAAI,CAACO,OAAM,GAAI,4EAA4E;QAC3FY,OAAO,CAACC,GAAG,CAACR,QAAQ,CAAC,EAAE;QACvB,IAAI,CAACS,SAAS,CAAC,CAAC;MAClB,EAAE,OAAOP,KAAK,EAAE;QACd,IAAI,CAACP,OAAM,GAAI,gCAA+B,GAAIO,KAAK,CAACC,OAAO;MACjE;IACF,CAAC;IACDM,SAASA,CAAA,EAAG;MACV,IAAI,CAACrB,QAAO,GAAI;QACdC,UAAU,EAAE,IAAI;QAChBC,OAAO,EAAE;UACPC,EAAE,EAAE;QACN,CAAC;QACDC,WAAW,EAAE;UACXD,EAAE,EAAE;QACN,CAAC;QACDE,SAAS,EAAE,EAAE;QACbC,MAAM,EAAE;MACV,CAAC;MACD,IAAI,CAACC,OAAM,GAAI,EAAE;IACnB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}