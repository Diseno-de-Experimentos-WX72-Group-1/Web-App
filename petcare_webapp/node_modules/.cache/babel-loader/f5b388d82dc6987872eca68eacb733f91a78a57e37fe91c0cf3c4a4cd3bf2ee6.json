{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-5\"\n};\nconst _hoisted_2 = {\n  class: \"mb-3\"\n};\nconst _hoisted_3 = [\"value\"];\nconst _hoisted_4 = {\n  class: \"mb-3\"\n};\nconst _hoisted_5 = [\"value\"];\nconst _hoisted_6 = {\n  class: \"mb-3\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"alert alert-info\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[8] || (_cache[8] = _createElementVNode(\"h2\", {\n    class: \"mb-4\"\n  }, \"Solicitud de Servicio a Domicilio\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[3] || (_cache[3] = _withModifiers((...args) => $options.guardarServicio && $options.guardarServicio(...args), [\"prevent\"])),\n    class: \"mb-4\"\n  }, [_createElementVNode(\"div\", _hoisted_2, [_cache[4] || (_cache[4] = _createElementVNode(\"label\", {\n    for: \"mascotaId\",\n    class: \"form-label\"\n  }, \"Selecciona Mascota:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    id: \"mascotaId\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.servicio.mascota.id = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.mascotas, mascota => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: mascota.id,\n      value: mascota.id\n    }, _toDisplayString(mascota.nombre) + \" - \" + _toDisplayString(mascota.especie), 9 /* TEXT, PROPS */, _hoisted_3);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.servicio.mascota.id]])]), _createElementVNode(\"div\", _hoisted_4, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", {\n    for: \"veterinarioId\",\n    class: \"form-label\"\n  }, \"Selecciona Veterinario:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    id: \"veterinarioId\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.servicio.veterinario.id = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.veterinarios, veterinario => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: veterinario.id,\n      value: veterinario.id\n    }, _toDisplayString(veterinario.nombre), 9 /* TEXT, PROPS */, _hoisted_5);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.servicio.veterinario.id]])]), _createElementVNode(\"div\", _hoisted_6, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    for: \"direccion\",\n    class: \"form-label\"\n  }, \"Dirección:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"direccion\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.servicio.direccion = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.servicio.direccion]])]), _cache[7] || (_cache[7] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-primary\"\n  }, \"Solicitar Servicio\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */), _createCommentVNode(\" Mensaje de alerta \"), $data.mensaje ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, _toDisplayString($data.mensaje), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" <div v-else class=\\\"alert alert-warning\\\">Prueba para ver si el mensaje se muestra correctamente.</div> Mensaje de prueba \")]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","guardarServicio","_hoisted_2","for","id","$event","$data","servicio","mascota","required","_Fragment","_renderList","mascotas","value","nombre","_toDisplayString","especie","_hoisted_3","_hoisted_4","veterinario","veterinarios","_hoisted_5","_hoisted_6","type","direccion","_createCommentVNode","mensaje","_hoisted_7"],"sources":["D:\\CAMILA\\UPC\\Ciclo 6\\Diseño de Experimentos\\Trabajo grupal\\Web-App\\petcare_webapp\\src\\components\\SolicitarServicioCliente.vue"],"sourcesContent":["<template>\r\n    <div class=\"container mt-5\">\r\n      <h2 class=\"mb-4\">Solicitud de Servicio a Domicilio</h2>\r\n  \r\n      <form @submit.prevent=\"guardarServicio\" class=\"mb-4\">\r\n        <div class=\"mb-3\">\r\n          <label for=\"mascotaId\" class=\"form-label\">Selecciona Mascota:</label>\r\n          <select id=\"mascotaId\" v-model=\"servicio.mascota.id\" class=\"form-control\" required>\r\n            <option v-for=\"mascota in mascotas\" :key=\"mascota.id\" :value=\"mascota.id\">\r\n              {{ mascota.nombre }} - {{ mascota.especie }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div class=\"mb-3\">\r\n          <label for=\"veterinarioId\" class=\"form-label\">Selecciona Veterinario:</label>\r\n          <select id=\"veterinarioId\" v-model=\"servicio.veterinario.id\" class=\"form-control\" required>\r\n            <option v-for=\"veterinario in veterinarios\" :key=\"veterinario.id\" :value=\"veterinario.id\">\r\n              {{ veterinario.nombre }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div class=\"mb-3\">\r\n          <label for=\"direccion\" class=\"form-label\">Dirección:</label>\r\n          <input type=\"text\" id=\"direccion\" v-model=\"servicio.direccion\" class=\"form-control\" required />\r\n        </div>\r\n        <button type=\"submit\" class=\"btn btn-primary\">Solicitar Servicio</button>\r\n      </form>\r\n  \r\n      <!-- Mensaje de alerta -->\r\n      <div v-if=\"mensaje\" class=\"alert alert-info\">{{ mensaje }}</div>\r\n      <!-- <div v-else class=\"alert alert-warning\">Prueba para ver si el mensaje se muestra correctamente.</div> Mensaje de prueba -->\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        mascotas: [],\r\n        veterinarios: [],\r\n        servicio: {\r\n          idServicio: null,\r\n          mascota: {\r\n            id: null\r\n          },\r\n          veterinario: {\r\n            id: null\r\n          },\r\n          direccion: '',\r\n          estado: 'PENDIENTE'\r\n        },\r\n        mensaje: ''\r\n      };\r\n    },\r\n    created() {\r\n      this.cargarMascotas();\r\n      this.cargarVeterinarios();\r\n    },\r\n    methods: {\r\n      async cargarMascotas() {\r\n        try {\r\n          const response = await axios.get('https://java3000-g8cthucjhvgad2c3.canadacentral-01.azurewebsites.net/api/mascotas');\r\n          this.mascotas = response.data;\r\n        } catch (error) {\r\n          this.mensaje = 'Error al obtener mascotas: ' + error.message;\r\n        }\r\n      },\r\n      async cargarVeterinarios() {\r\n        try {\r\n          const responseVeterinarios = await axios.get('https://java3000-g8cthucjhvgad2c3.canadacentral-01.azurewebsites.net/api/citas/usuarios/veterinarios');\r\n          this.veterinarios = responseVeterinarios.data;\r\n        } catch (error) {\r\n          this.mensaje = 'Error al obtener veterinarios: ' + error.message;\r\n        }\r\n      },\r\n      async guardarServicio() {\r\n        try {\r\n          const response = await axios.post('https://java3000-g8cthucjhvgad2c3.canadacentral-01.azurewebsites.net/api/servicios-domicilio', this.servicio);\r\n          this.mensaje = 'Su solicitud ha sido procesada y pronto el especialista estará en su hogar';\r\n          console.log(response); // Verifica la respuesta\r\n          this.resetForm();\r\n        } catch (error) {\r\n          this.mensaje = 'Error al guardar el servicio: ' + error.message;\r\n        }\r\n      },\r\n      resetForm() {\r\n        this.servicio = {\r\n          idServicio: null,\r\n          mascota: {\r\n            id: null\r\n          },\r\n          veterinario: {\r\n            id: null\r\n          },\r\n          direccion: '',\r\n          estado: 'PENDIENTE'\r\n        };\r\n        this.mensaje = '';\r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  /* Estilos adicionales aquí si es necesario */\r\n  </style>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}