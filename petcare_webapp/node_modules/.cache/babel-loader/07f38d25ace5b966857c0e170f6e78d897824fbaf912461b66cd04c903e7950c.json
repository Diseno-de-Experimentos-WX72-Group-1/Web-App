{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  data() {\n    return {\n      usuarios: [],\n      usuario: {\n        id: null,\n        nombre: \"\",\n        correo: \"\",\n        contraseña: \"\",\n        rol: \"dueno\"\n      },\n      mensaje: \"\",\n      isEditing: false\n    };\n  },\n  created() {\n    this.obtenerUsuarios();\n  },\n  methods: {\n    async obtenerUsuarios() {\n      try {\n        const response = await axios.get(\"https://java3000-g8cthucjhvgad2c3.canadacentral-01.azurewebsites.net/api/usuarios\");\n        this.usuarios = response.data;\n      } catch (error) {\n        this.mensaje = \"Error al obtener usuarios: \" + error.message;\n      }\n    },\n    async guardarUsuario() {\n      try {\n        if (this.isEditing) {\n          await axios.put(`https://java3000-g8cthucjhvgad2c3.canadacentral-01.azurewebsites.net/api/usuarios/${this.usuario.id}`, this.usuario);\n          this.mensaje = \"Usuario actualizado exitosamente\";\n        } else {\n          const response = await axios.post(\"https://java3000-g8cthucjhvgad2c3.canadacentral-01.azurewebsites.net/api/usuarios\", this.usuario);\n          this.mensaje = \"Usuario creado exitosamente: \" + response.data.id;\n        }\n        this.usuario = {\n          id: null,\n          nombre: \"\",\n          correo: \"\",\n          contraseña: \"\",\n          rol: \"dueno\"\n        };\n        this.isEditing = false;\n        this.obtenerUsuarios();\n      } catch (error) {\n        this.mensaje = \"Error al guardar usuario: \" + error.response?.data?.message || error.message;\n      }\n    },\n    editarUsuario(usuario) {\n      this.usuario = {\n        ...usuario\n      };\n      this.isEditing = true;\n    },\n    async eliminarUsuario(id) {\n      try {\n        await axios.delete(`https://java3000-g8cthucjhvgad2c3.canadacentral-01.azurewebsites.net/api/usuarios/${id}`);\n        this.mensaje = \"Usuario eliminado exitosamente\";\n        this.obtenerUsuarios();\n      } catch (error) {\n        this.mensaje = \"Error al eliminar usuario: \" + error.message;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","usuarios","usuario","id","nombre","correo","contraseña","rol","mensaje","isEditing","created","obtenerUsuarios","methods","response","get","error","message","guardarUsuario","put","post","editarUsuario","eliminarUsuario","delete"],"sources":["D:\\CAMILA\\UPC\\Ciclo 6\\Diseño de Experimentos\\Trabajo grupal\\Web-App\\petcare_webapp\\src\\components\\UsuariosComponent.vue"],"sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <div class=\"d-flex\">\r\n      <!-- Sidebar -->\r\n      <nav class=\"col-md-2 d-none d-md-block bg-light sidebar\">\r\n        <div class=\"sidebar-sticky\">\r\n          <h5 class=\"sidebar-heading\">Dashboard</h5>\r\n          <ul class=\"nav flex-column\">\r\n            <li class=\"nav-item\">\r\n              <router-link to=\"/usuarios\" class=\"nav-link\">\r\n                Usuarios\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <router-link to=\"/citas\" class=\"nav-link\">\r\n                Programar Cita\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <router-link to=\"/listar_citas\" class=\"nav-link\">\r\n                Listar Citas\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <router-link to=\"/servicio_domicilio\" class=\"nav-link\">\r\n                Servicio Domicilio\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <router-link to=\"/historial_medico\" class=\"nav-link\">\r\n                Historial Médico\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <router-link to=\"/generar_reporte\" class=\"nav-link\">\r\n                Generar Reporte\r\n              </router-link>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <router-link to=\"/lista_recordatorios\" class=\"nav-link\">\r\n                Lista Recordatorios\r\n              </router-link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n\r\n      <!-- Main content -->\r\n      <main role=\"main\" class=\"col-md-9 ml-sm-auto col-lg-10 px-4\">\r\n        <div class=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\">\r\n          <h1 class=\"h2\">Bienvenido al Dashboard</h1>\r\n        </div>\r\n\r\n        <!-- Contenido del componente de gestión de usuarios -->\r\n        <div class=\"container mt-4\">\r\n          <h2 class=\"text-center\">Gestión de Usuarios</h2>\r\n\r\n          <!-- Formulario de Usuario -->\r\n          <form @submit.prevent=\"guardarUsuario\" class=\"card p-4 mb-4 shadow-sm\">\r\n            <div class=\"form-group mb-3\">\r\n              <label for=\"nombre\">Nombre:</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"nombre\"\r\n                class=\"form-control\"\r\n                v-model=\"usuario.nombre\"\r\n                required\r\n                placeholder=\"Ingrese nombre\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"form-group mb-3\">\r\n              <label for=\"correo\">Correo:</label>\r\n              <input\r\n                type=\"email\"\r\n                id=\"correo\"\r\n                class=\"form-control\"\r\n                v-model=\"usuario.correo\"\r\n                required\r\n                placeholder=\"Ingrese correo\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"form-group mb-3\">\r\n              <label for=\"contraseña\">Contraseña:</label>\r\n              <input\r\n                type=\"password\"\r\n                id=\"contraseña\"\r\n                class=\"form-control\"\r\n                v-model=\"usuario.contraseña\"\r\n                required\r\n                placeholder=\"Ingrese contraseña\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"form-group mb-4\">\r\n              <label for=\"rol\">Rol:</label>\r\n              <select id=\"rol\" class=\"form-select\" v-model=\"usuario.rol\" required>\r\n                <option value=\"dueno\">Dueño</option>\r\n                <option value=\"veterinario\">Veterinario</option>\r\n                <option value=\"admin\">Admin</option>\r\n              </select>\r\n            </div>\r\n\r\n            <button type=\"submit\" class=\"btn btn-primary w-100\">\r\n              {{ isEditing ? 'Actualizar Usuario' : 'Crear Usuario' }}\r\n            </button>\r\n          </form>\r\n\r\n          <div v-if=\"mensaje\" class=\"alert alert-info text-center\">{{ mensaje }}</div>\r\n\r\n          <!-- Lista de Usuarios -->\r\n          <h3 class=\"text-center mb-3\">Lista de Usuarios</h3>\r\n          <table class=\"table table-bordered table-striped\">\r\n            <thead class=\"thead-dark\">\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>Nombre</th>\r\n                <th>Correo</th>\r\n                <th>Rol</th>\r\n                <th>Acciones</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"usuario in usuarios\" :key=\"usuario.id\">\r\n                <td>{{ usuario.id }}</td>\r\n                <td>{{ usuario.nombre }}</td>\r\n                <td>{{ usuario.correo }}</td>\r\n                <td>{{ usuario.rol }}</td>\r\n                <td>\r\n                  <button class=\"btn btn-warning btn-sm me-2\" @click=\"editarUsuario(usuario)\">\r\n                    Editar\r\n                  </button>\r\n                  <button class=\"btn btn-danger btn-sm\" @click=\"eliminarUsuario(usuario.id)\">\r\n                    Eliminar\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      usuarios: [],\r\n      usuario: {\r\n        id: null,\r\n        nombre: \"\",\r\n        correo: \"\",\r\n        contraseña: \"\",\r\n        rol: \"dueno\",\r\n      },\r\n      mensaje: \"\",\r\n      isEditing: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.obtenerUsuarios();\r\n  },\r\n  methods: {\r\n    async obtenerUsuarios() {\r\n      try {\r\n        const response = await axios.get(\"https://java3000-g8cthucjhvgad2c3.canadacentral-01.azurewebsites.net/api/usuarios\");\r\n        this.usuarios = response.data;\r\n      } catch (error) {\r\n        this.mensaje = \"Error al obtener usuarios: \" + error.message;\r\n      }\r\n    },\r\n    async guardarUsuario() {\r\n      try {\r\n        if (this.isEditing) {\r\n          await axios.put(\r\n            `https://java3000-g8cthucjhvgad2c3.canadacentral-01.azurewebsites.net/api/usuarios/${this.usuario.id}`,\r\n            this.usuario\r\n          );\r\n          this.mensaje = \"Usuario actualizado exitosamente\";\r\n        } else {\r\n          const response = await axios.post(\r\n            \"https://java3000-g8cthucjhvgad2c3.canadacentral-01.azurewebsites.net/api/usuarios\",\r\n            this.usuario\r\n          );\r\n          this.mensaje = \"Usuario creado exitosamente: \" + response.data.id;\r\n        }\r\n\r\n        this.usuario = { id: null, nombre: \"\", correo: \"\", contraseña: \"\", rol: \"dueno\" };\r\n        this.isEditing = false;\r\n        this.obtenerUsuarios();\r\n      } catch (error) {\r\n        this.mensaje =\r\n          \"Error al guardar usuario: \" + error.response?.data?.message || error.message;\r\n      }\r\n    },\r\n    editarUsuario(usuario) {\r\n      this.usuario = { ...usuario };\r\n      this.isEditing = true;\r\n    },\r\n    async eliminarUsuario(id) {\r\n      try {\r\n        await axios.delete(`https://java3000-g8cthucjhvgad2c3.canadacentral-01.azurewebsites.net/api/usuarios/${id}`);\r\n        this.mensaje = \"Usuario eliminado exitosamente\";\r\n        this.obtenerUsuarios();\r\n      } catch (error) {\r\n        this.mensaje = \"Error al eliminar usuario: \" + error.message;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  max-width: 800px;\r\n}\r\n.sidebar {\r\n  height: 100vh; /* Altura completa */\r\n}\r\n</style>\r\n"],"mappings":"AAmJA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE;QACPC,EAAE,EAAE,IAAI;QACRC,MAAM,EAAE,EAAE;QACVC,MAAM,EAAE,EAAE;QACVC,UAAU,EAAE,EAAE;QACdC,GAAG,EAAE;MACP,CAAC;MACDC,OAAO,EAAE,EAAE;MACXC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,eAAe,CAAC,CAAC;EACxB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,eAAeA,CAAA,EAAG;MACtB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMd,KAAK,CAACe,GAAG,CAAC,mFAAmF,CAAC;QACrH,IAAI,CAACb,QAAO,GAAIY,QAAQ,CAACb,IAAI;MAC/B,EAAE,OAAOe,KAAK,EAAE;QACd,IAAI,CAACP,OAAM,GAAI,6BAA4B,GAAIO,KAAK,CAACC,OAAO;MAC9D;IACF,CAAC;IACD,MAAMC,cAAcA,CAAA,EAAG;MACrB,IAAI;QACF,IAAI,IAAI,CAACR,SAAS,EAAE;UAClB,MAAMV,KAAK,CAACmB,GAAG,CACb,qFAAqF,IAAI,CAAChB,OAAO,CAACC,EAAE,EAAE,EACtG,IAAI,CAACD,OACP,CAAC;UACD,IAAI,CAACM,OAAM,GAAI,kCAAkC;QACnD,OAAO;UACL,MAAMK,QAAO,GAAI,MAAMd,KAAK,CAACoB,IAAI,CAC/B,mFAAmF,EACnF,IAAI,CAACjB,OACP,CAAC;UACD,IAAI,CAACM,OAAM,GAAI,+BAA8B,GAAIK,QAAQ,CAACb,IAAI,CAACG,EAAE;QACnE;QAEA,IAAI,CAACD,OAAM,GAAI;UAAEC,EAAE,EAAE,IAAI;UAAEC,MAAM,EAAE,EAAE;UAAEC,MAAM,EAAE,EAAE;UAAEC,UAAU,EAAE,EAAE;UAAEC,GAAG,EAAE;QAAQ,CAAC;QACjF,IAAI,CAACE,SAAQ,GAAI,KAAK;QACtB,IAAI,CAACE,eAAe,CAAC,CAAC;MACxB,EAAE,OAAOI,KAAK,EAAE;QACd,IAAI,CAACP,OAAM,GACT,4BAA2B,GAAIO,KAAK,CAACF,QAAQ,EAAEb,IAAI,EAAEgB,OAAM,IAAKD,KAAK,CAACC,OAAO;MACjF;IACF,CAAC;IACDI,aAAaA,CAAClB,OAAO,EAAE;MACrB,IAAI,CAACA,OAAM,GAAI;QAAE,GAAGA;MAAQ,CAAC;MAC7B,IAAI,CAACO,SAAQ,GAAI,IAAI;IACvB,CAAC;IACD,MAAMY,eAAeA,CAAClB,EAAE,EAAE;MACxB,IAAI;QACF,MAAMJ,KAAK,CAACuB,MAAM,CAAC,qFAAqFnB,EAAE,EAAE,CAAC;QAC7G,IAAI,CAACK,OAAM,GAAI,gCAAgC;QAC/C,IAAI,CAACG,eAAe,CAAC,CAAC;MACxB,EAAE,OAAOI,KAAK,EAAE;QACd,IAAI,CAACP,OAAM,GAAI,6BAA4B,GAAIO,KAAK,CAACC,OAAO;MAC9D;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}